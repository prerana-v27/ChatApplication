import React from "react";
import useConversation from "../../statemanage/useConversation.js";
import { useSocketContext } from "../../context/SocketContext.jsx";

function User({ user }) {
  const { selectedConversation, setSelectedConversation } = useConversation();
  const isSelected = selectedConversation?._id === user._id;
  const { socket, onlineUsers } = useSocketContext();
  const isOnline = onlineUsers.includes(user._id);
  return (
    <div
      className={`hover:bg-slate-600 duration-300 ${
        isSelected ? "bg-slate-700" : ""
      }`}
      onClick={() => setSelectedConversation(user)}
    >
      <div className="flex space-x-4 px-8 py-3 hover:bg-slate-700 duration-300 cursor-pointer">
        <div className={`avatar ${isOnline ? "online" : ""}`}>
          <div className="w-12 rounded-full">
             <img src="data:image/jpeg;base64,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" />
        
          </div>
        </div>
        <div>
          <h1 className=" font-bold">{user.name}</h1>
          <span>{user.email}</span>
        </div>
      </div>
    </div>
  );
}

export default User;






